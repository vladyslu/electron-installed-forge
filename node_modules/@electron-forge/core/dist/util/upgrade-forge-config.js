"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = upgradeForgeConfig;
exports.updateUpgradedForgeDevDeps = updateUpgradedForgeDevDeps;
var _path = _interopRequireDefault(require("path"));
var _initNpm = require("../api/init-scripts/init-npm");
function upgradeForgeConfig(forge5Config) {
    const forgeConfig = {};
    if (forge5Config.electronPackagerConfig) {
        delete forge5Config.electronPackagerConfig.packageManager;
        forgeConfig.packagerConfig = forge5Config.electronPackagerConfig;
    }
    if (forge5Config.electronRebuildConfig) {
        forgeConfig.rebuildConfig = forge5Config.electronRebuildConfig;
    }
    forgeConfig.makers = generateForgeMakerConfig(forge5Config);
    forgeConfig.publishers = generateForgePublisherConfig(forge5Config);
    return forgeConfig;
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function mapMakeTargets(forge5Config) {
    const makeTargets = new Map();
    if (forge5Config.make_targets) {
        for (const [platform, targets] of Object.entries(forge5Config.make_targets)){
            for (const target of targets){
                let platforms = makeTargets.get(target);
                if (platforms === undefined) {
                    platforms = [];
                    makeTargets.set(target, platforms);
                }
                platforms.push(platform);
            }
        }
    }
    return makeTargets;
}
const forge5MakerMappings = new Map([
    [
        'electronInstallerDebian',
        'deb'
    ],
    [
        'electronInstallerDMG',
        'dmg'
    ],
    [
        'electronInstallerFlatpak',
        'flatpak'
    ],
    [
        'electronInstallerRedhat',
        'rpm'
    ],
    [
        'electronInstallerSnap',
        'snap'
    ],
    [
        'electronWinstallerConfig',
        'squirrel'
    ],
    [
        'electronWixMSIConfig',
        'wix'
    ],
    [
        'windowsStoreConfig',
        'appx'
    ], 
]);
/**
 * Converts Forge v5 maker config to v6.
 */ function generateForgeMakerConfig(forge5Config) {
    const makeTargets = mapMakeTargets(forge5Config);
    const makers = [];
    for (const [forge5Key, makerType] of forge5MakerMappings){
        const config = forge5Config[forge5Key];
        if (config) {
            makers.push({
                name: `@electron-forge/maker-${makerType}`,
                config: forge5Config[forge5Key],
                platforms: makeTargets.get(makerType) || []
            });
        }
    }
    const zipPlatforms = makeTargets.get('zip');
    if (zipPlatforms) {
        makers.push({
            name: '@electron-forge/maker-zip',
            platforms: zipPlatforms
        });
    }
    return makers;
}
const forge5PublisherMappings = new Map([
    [
        'github_repository',
        'github'
    ],
    [
        's3',
        's3'
    ],
    [
        'electron-release-server',
        'electron-release-server'
    ],
    [
        'snapStore',
        'snapcraft'
    ], 
]);
/**
 * Transforms v5 GitHub publisher config to v6 syntax.
 */ function transformGitHubPublisherConfig(config) {
    const { name , owner , options , ...gitHubConfig } = config;
    gitHubConfig.repository = {
        name,
        owner
    };
    if (options) {
        gitHubConfig.octokitOptions = options;
    }
    return gitHubConfig;
}
/**
 * Converts Forge v5 publisher config to v6.
 */ function generateForgePublisherConfig(forge5Config) {
    const publishers = [];
    for (const [forge5Key, publisherType] of forge5PublisherMappings){
        let config = forge5Config[forge5Key];
        if (config) {
            if (publisherType === 'github') {
                config = transformGitHubPublisherConfig(config);
            }
            publishers.push({
                config,
                name: `@electron-forge/publisher-${publisherType}`,
                platforms: null
            });
        }
    }
    return publishers;
}
function updateUpgradedForgeDevDeps(packageJSON, devDeps) {
    const forgeConfig = packageJSON.config.forge;
    devDeps = devDeps.filter((dep)=>!dep.startsWith('@electron-forge/maker-')
    );
    devDeps = devDeps.concat(forgeConfig.makers.map((maker)=>(0, _initNpm).siblingDep(_path.default.basename(maker.name))
    ));
    devDeps = devDeps.concat(forgeConfig.publishers.map((publisher)=>(0, _initNpm).siblingDep(_path.default.basename(publisher.name))
    ));
    if (Object.keys(packageJSON.devDependencies).find((dep)=>dep === 'electron-prebuilt-compile'
    )) {
        devDeps = devDeps.concat((0, _initNpm).siblingDep('plugin-compile'));
    }
    return devDeps;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL3VwZ3JhZGUtZm9yZ2UtY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgeyBGb3JnZUNvbmZpZywgRm9yZ2VQbGF0Zm9ybSwgSUZvcmdlUmVzb2x2YWJsZU1ha2VyLCBJRm9yZ2VSZXNvbHZhYmxlUHVibGlzaGVyIH0gZnJvbSAnQGVsZWN0cm9uLWZvcmdlL3NoYXJlZC10eXBlcyc7XG5cbmltcG9ydCB7IHNpYmxpbmdEZXAgfSBmcm9tICcuLi9hcGkvaW5pdC1zY3JpcHRzL2luaXQtbnBtJztcblxudHlwZSBNYWtlVGFyZ2V0cyA9IHsgc3RyaW5nOiBzdHJpbmdbXSB9O1xuXG50eXBlIEdpdEh1YjVDb25maWcgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiAmIHtcbiAgbmFtZTogc3RyaW5nO1xuICBvd25lcjogc3RyaW5nO1xuICBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn07XG5cbnR5cGUgRm9yZ2U1Q29uZmlnID0ge1xuICBtYWtlX3RhcmdldHM/OiBSZWNvcmQ8Rm9yZ2VQbGF0Zm9ybSwgc3RyaW5nW10+O1xuICBlbGVjdHJvblBhY2thZ2VyQ29uZmlnPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uUmVidWlsZENvbmZpZz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBlbGVjdHJvbldpbnN0YWxsZXJDb25maWc/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25JbnN0YWxsZXJETUc/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgZWxlY3Ryb25JbnN0YWxsZXJGbGF0cGFrPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uSW5zdGFsbGVyRGViaWFuPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uSW5zdGFsbGVyUmVkaGF0PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGVsZWN0cm9uSW5zdGFsbGVyU25hcD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBlbGVjdHJvbldpeE1TSUNvbmZpZz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB3aW5kb3dzU3RvcmVDb25maWc/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICBnaXRodWJfcmVwb3NpdG9yeT86IEdpdEh1YjVDb25maWc7XG4gIHMzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICdlbGVjdHJvbi1yZWxlYXNlLXNlcnZlcic/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgc25hcFN0b3JlPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG50eXBlIEZvcmdlNUNvbmZpZ0tleSA9IGtleW9mIEZvcmdlNUNvbmZpZztcblxudHlwZSBGb3JnZVBhY2thZ2VKU09OID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4gJiB7XG4gIGNvbmZpZzoge1xuICAgIGZvcmdlOiBGb3JnZUNvbmZpZztcbiAgfTtcbiAgZGV2RGVwZW5kZW5jaWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuZnVuY3Rpb24gbWFwTWFrZVRhcmdldHMoZm9yZ2U1Q29uZmlnOiBGb3JnZTVDb25maWcpOiBNYXA8c3RyaW5nLCBGb3JnZVBsYXRmb3JtW10+IHtcbiAgY29uc3QgbWFrZVRhcmdldHMgPSBuZXcgTWFwPHN0cmluZywgRm9yZ2VQbGF0Zm9ybVtdPigpO1xuICBpZiAoZm9yZ2U1Q29uZmlnLm1ha2VfdGFyZ2V0cykge1xuICAgIGZvciAoY29uc3QgW3BsYXRmb3JtLCB0YXJnZXRzXSBvZiBPYmplY3QuZW50cmllcyhmb3JnZTVDb25maWcubWFrZV90YXJnZXRzIGFzIE1ha2VUYXJnZXRzKSkge1xuICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgdGFyZ2V0cykge1xuICAgICAgICBsZXQgcGxhdGZvcm1zID0gbWFrZVRhcmdldHMuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmIChwbGF0Zm9ybXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHBsYXRmb3JtcyA9IFtdO1xuICAgICAgICAgIG1ha2VUYXJnZXRzLnNldCh0YXJnZXQsIHBsYXRmb3Jtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhdGZvcm1zLnB1c2gocGxhdGZvcm0gYXMgRm9yZ2VQbGF0Zm9ybSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ha2VUYXJnZXRzO1xufVxuXG5jb25zdCBmb3JnZTVNYWtlck1hcHBpbmdzID0gbmV3IE1hcDxGb3JnZTVDb25maWdLZXksIHN0cmluZz4oW1xuICBbJ2VsZWN0cm9uSW5zdGFsbGVyRGViaWFuJywgJ2RlYiddLFxuICBbJ2VsZWN0cm9uSW5zdGFsbGVyRE1HJywgJ2RtZyddLFxuICBbJ2VsZWN0cm9uSW5zdGFsbGVyRmxhdHBhaycsICdmbGF0cGFrJ10sXG4gIFsnZWxlY3Ryb25JbnN0YWxsZXJSZWRoYXQnLCAncnBtJ10sXG4gIFsnZWxlY3Ryb25JbnN0YWxsZXJTbmFwJywgJ3NuYXAnXSxcbiAgWydlbGVjdHJvbldpbnN0YWxsZXJDb25maWcnLCAnc3F1aXJyZWwnXSxcbiAgWydlbGVjdHJvbldpeE1TSUNvbmZpZycsICd3aXgnXSxcbiAgWyd3aW5kb3dzU3RvcmVDb25maWcnLCAnYXBweCddLFxuXSk7XG5cbi8qKlxuICogQ29udmVydHMgRm9yZ2UgdjUgbWFrZXIgY29uZmlnIHRvIHY2LlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZvcmdlTWFrZXJDb25maWcoZm9yZ2U1Q29uZmlnOiBGb3JnZTVDb25maWcpOiBJRm9yZ2VSZXNvbHZhYmxlTWFrZXJbXSB7XG4gIGNvbnN0IG1ha2VUYXJnZXRzID0gbWFwTWFrZVRhcmdldHMoZm9yZ2U1Q29uZmlnKTtcbiAgY29uc3QgbWFrZXJzOiBJRm9yZ2VSZXNvbHZhYmxlTWFrZXJbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgW2ZvcmdlNUtleSwgbWFrZXJUeXBlXSBvZiBmb3JnZTVNYWtlck1hcHBpbmdzKSB7XG4gICAgY29uc3QgY29uZmlnID0gZm9yZ2U1Q29uZmlnW2ZvcmdlNUtleV07XG4gICAgaWYgKGNvbmZpZykge1xuICAgICAgbWFrZXJzLnB1c2goe1xuICAgICAgICBuYW1lOiBgQGVsZWN0cm9uLWZvcmdlL21ha2VyLSR7bWFrZXJUeXBlfWAsXG4gICAgICAgIGNvbmZpZzogZm9yZ2U1Q29uZmlnW2ZvcmdlNUtleV0sXG4gICAgICAgIHBsYXRmb3JtczogbWFrZVRhcmdldHMuZ2V0KG1ha2VyVHlwZSkgfHwgW10sXG4gICAgICB9IGFzIElGb3JnZVJlc29sdmFibGVNYWtlcik7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgemlwUGxhdGZvcm1zID0gbWFrZVRhcmdldHMuZ2V0KCd6aXAnKTtcbiAgaWYgKHppcFBsYXRmb3Jtcykge1xuICAgIG1ha2Vycy5wdXNoKHtcbiAgICAgIG5hbWU6ICdAZWxlY3Ryb24tZm9yZ2UvbWFrZXItemlwJyxcbiAgICAgIHBsYXRmb3JtczogemlwUGxhdGZvcm1zLFxuICAgIH0gYXMgSUZvcmdlUmVzb2x2YWJsZU1ha2VyKTtcbiAgfVxuXG4gIHJldHVybiBtYWtlcnM7XG59XG5cbmNvbnN0IGZvcmdlNVB1Ymxpc2hlck1hcHBpbmdzID0gbmV3IE1hcDxGb3JnZTVDb25maWdLZXksIHN0cmluZz4oW1xuICBbJ2dpdGh1Yl9yZXBvc2l0b3J5JywgJ2dpdGh1YiddLFxuICBbJ3MzJywgJ3MzJ10sXG4gIFsnZWxlY3Ryb24tcmVsZWFzZS1zZXJ2ZXInLCAnZWxlY3Ryb24tcmVsZWFzZS1zZXJ2ZXInXSxcbiAgWydzbmFwU3RvcmUnLCAnc25hcGNyYWZ0J10sXG5dKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHY1IEdpdEh1YiBwdWJsaXNoZXIgY29uZmlnIHRvIHY2IHN5bnRheC5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtR2l0SHViUHVibGlzaGVyQ29uZmlnKGNvbmZpZzogR2l0SHViNUNvbmZpZykge1xuICBjb25zdCB7IG5hbWUsIG93bmVyLCBvcHRpb25zLCAuLi5naXRIdWJDb25maWcgfSA9IGNvbmZpZztcbiAgZ2l0SHViQ29uZmlnLnJlcG9zaXRvcnkgPSB7IG5hbWUsIG93bmVyIH07XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZ2l0SHViQ29uZmlnLm9jdG9raXRPcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIHJldHVybiBnaXRIdWJDb25maWc7XG59XG5cbi8qKlxuICogQ29udmVydHMgRm9yZ2UgdjUgcHVibGlzaGVyIGNvbmZpZyB0byB2Ni5cbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGb3JnZVB1Ymxpc2hlckNvbmZpZyhmb3JnZTVDb25maWc6IEZvcmdlNUNvbmZpZyk6IElGb3JnZVJlc29sdmFibGVQdWJsaXNoZXJbXSB7XG4gIGNvbnN0IHB1Ymxpc2hlcnM6IElGb3JnZVJlc29sdmFibGVQdWJsaXNoZXJbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgW2ZvcmdlNUtleSwgcHVibGlzaGVyVHlwZV0gb2YgZm9yZ2U1UHVibGlzaGVyTWFwcGluZ3MpIHtcbiAgICBsZXQgY29uZmlnID0gZm9yZ2U1Q29uZmlnW2ZvcmdlNUtleV07XG4gICAgaWYgKGNvbmZpZykge1xuICAgICAgaWYgKHB1Ymxpc2hlclR5cGUgPT09ICdnaXRodWInKSB7XG4gICAgICAgIGNvbmZpZyA9IHRyYW5zZm9ybUdpdEh1YlB1Ymxpc2hlckNvbmZpZyhjb25maWcgYXMgR2l0SHViNUNvbmZpZyk7XG4gICAgICB9XG4gICAgICBwdWJsaXNoZXJzLnB1c2goe1xuICAgICAgICBjb25maWcsXG4gICAgICAgIG5hbWU6IGBAZWxlY3Ryb24tZm9yZ2UvcHVibGlzaGVyLSR7cHVibGlzaGVyVHlwZX1gLFxuICAgICAgICBwbGF0Zm9ybXM6IG51bGwsXG4gICAgICB9IGFzIElGb3JnZVJlc29sdmFibGVNYWtlcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHB1Ymxpc2hlcnM7XG59XG5cbi8qKlxuICogVXBncmFkZXMgRm9yZ2UgdjUgY29uZmlnIHRvIHY2LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGdyYWRlRm9yZ2VDb25maWcoZm9yZ2U1Q29uZmlnOiBGb3JnZTVDb25maWcpOiBGb3JnZUNvbmZpZyB7XG4gIGNvbnN0IGZvcmdlQ29uZmlnOiBGb3JnZUNvbmZpZyA9IHt9IGFzIEZvcmdlQ29uZmlnO1xuXG4gIGlmIChmb3JnZTVDb25maWcuZWxlY3Ryb25QYWNrYWdlckNvbmZpZykge1xuICAgIGRlbGV0ZSBmb3JnZTVDb25maWcuZWxlY3Ryb25QYWNrYWdlckNvbmZpZy5wYWNrYWdlTWFuYWdlcjtcbiAgICBmb3JnZUNvbmZpZy5wYWNrYWdlckNvbmZpZyA9IGZvcmdlNUNvbmZpZy5lbGVjdHJvblBhY2thZ2VyQ29uZmlnO1xuICB9XG4gIGlmIChmb3JnZTVDb25maWcuZWxlY3Ryb25SZWJ1aWxkQ29uZmlnKSB7XG4gICAgZm9yZ2VDb25maWcucmVidWlsZENvbmZpZyA9IGZvcmdlNUNvbmZpZy5lbGVjdHJvblJlYnVpbGRDb25maWc7XG4gIH1cbiAgZm9yZ2VDb25maWcubWFrZXJzID0gZ2VuZXJhdGVGb3JnZU1ha2VyQ29uZmlnKGZvcmdlNUNvbmZpZyk7XG4gIGZvcmdlQ29uZmlnLnB1Ymxpc2hlcnMgPSBnZW5lcmF0ZUZvcmdlUHVibGlzaGVyQ29uZmlnKGZvcmdlNUNvbmZpZyk7XG5cbiAgcmV0dXJuIGZvcmdlQ29uZmlnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXBncmFkZWRGb3JnZURldkRlcHMocGFja2FnZUpTT046IEZvcmdlUGFja2FnZUpTT04sIGRldkRlcHM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuICBjb25zdCBmb3JnZUNvbmZpZyA9IHBhY2thZ2VKU09OLmNvbmZpZy5mb3JnZTtcbiAgZGV2RGVwcyA9IGRldkRlcHMuZmlsdGVyKChkZXApID0+ICFkZXAuc3RhcnRzV2l0aCgnQGVsZWN0cm9uLWZvcmdlL21ha2VyLScpKTtcbiAgZGV2RGVwcyA9IGRldkRlcHMuY29uY2F0KChmb3JnZUNvbmZpZy5tYWtlcnMgYXMgSUZvcmdlUmVzb2x2YWJsZU1ha2VyW10pLm1hcCgobWFrZXI6IElGb3JnZVJlc29sdmFibGVNYWtlcikgPT4gc2libGluZ0RlcChwYXRoLmJhc2VuYW1lKG1ha2VyLm5hbWUpKSkpO1xuICBkZXZEZXBzID0gZGV2RGVwcy5jb25jYXQoXG4gICAgKGZvcmdlQ29uZmlnLnB1Ymxpc2hlcnMgYXMgSUZvcmdlUmVzb2x2YWJsZVB1Ymxpc2hlcltdKS5tYXAoKHB1Ymxpc2hlcjogSUZvcmdlUmVzb2x2YWJsZVB1Ymxpc2hlcikgPT4gc2libGluZ0RlcChwYXRoLmJhc2VuYW1lKHB1Ymxpc2hlci5uYW1lKSkpXG4gICk7XG5cbiAgaWYgKE9iamVjdC5rZXlzKHBhY2thZ2VKU09OLmRldkRlcGVuZGVuY2llcykuZmluZCgoZGVwOiBzdHJpbmcpID0+IGRlcCA9PT0gJ2VsZWN0cm9uLXByZWJ1aWx0LWNvbXBpbGUnKSkge1xuICAgIGRldkRlcHMgPSBkZXZEZXBzLmNvbmNhdChzaWJsaW5nRGVwKCdwbHVnaW4tY29tcGlsZScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXZEZXBzO1xufVxuIl0sIm5hbWVzIjpbInVwZ3JhZGVGb3JnZUNvbmZpZyIsInVwZGF0ZVVwZ3JhZGVkRm9yZ2VEZXZEZXBzIiwiZm9yZ2U1Q29uZmlnIiwiZm9yZ2VDb25maWciLCJlbGVjdHJvblBhY2thZ2VyQ29uZmlnIiwicGFja2FnZU1hbmFnZXIiLCJwYWNrYWdlckNvbmZpZyIsImVsZWN0cm9uUmVidWlsZENvbmZpZyIsInJlYnVpbGRDb25maWciLCJtYWtlcnMiLCJnZW5lcmF0ZUZvcmdlTWFrZXJDb25maWciLCJwdWJsaXNoZXJzIiwiZ2VuZXJhdGVGb3JnZVB1Ymxpc2hlckNvbmZpZyIsIm1hcE1ha2VUYXJnZXRzIiwibWFrZVRhcmdldHMiLCJNYXAiLCJtYWtlX3RhcmdldHMiLCJwbGF0Zm9ybSIsInRhcmdldHMiLCJPYmplY3QiLCJlbnRyaWVzIiwidGFyZ2V0IiwicGxhdGZvcm1zIiwiZ2V0IiwidW5kZWZpbmVkIiwic2V0IiwicHVzaCIsImZvcmdlNU1ha2VyTWFwcGluZ3MiLCJmb3JnZTVLZXkiLCJtYWtlclR5cGUiLCJjb25maWciLCJuYW1lIiwiemlwUGxhdGZvcm1zIiwiZm9yZ2U1UHVibGlzaGVyTWFwcGluZ3MiLCJ0cmFuc2Zvcm1HaXRIdWJQdWJsaXNoZXJDb25maWciLCJvd25lciIsIm9wdGlvbnMiLCJnaXRIdWJDb25maWciLCJyZXBvc2l0b3J5Iiwib2N0b2tpdE9wdGlvbnMiLCJwdWJsaXNoZXJUeXBlIiwicGFja2FnZUpTT04iLCJkZXZEZXBzIiwiZm9yZ2UiLCJmaWx0ZXIiLCJkZXAiLCJzdGFydHNXaXRoIiwiY29uY2F0IiwibWFwIiwibWFrZXIiLCJzaWJsaW5nRGVwIiwicGF0aCIsImJhc2VuYW1lIiwicHVibGlzaGVyIiwia2V5cyIsImRldkRlcGVuZGVuY2llcyIsImZpbmQiXSwibWFwcGluZ3MiOiI7Ozs7a0JBa0p3QkEsa0JBQWtCO1FBZ0IxQkMsMEJBQTBCLEdBQTFCQSwwQkFBMEI7QUFsS3pCLEdBQU0sQ0FBTixLQUFNO0FBSUksR0FBOEIsQ0FBOUIsUUFBOEI7U0E4SWpDRCxrQkFBa0IsQ0FBQ0UsWUFBMEIsRUFBZSxDQUFDO0lBQ25GLEtBQUssQ0FBQ0MsV0FBVyxHQUFnQixDQUFDLENBQUM7SUFFbkMsRUFBRSxFQUFFRCxZQUFZLENBQUNFLHNCQUFzQixFQUFFLENBQUM7UUFDeEMsTUFBTSxDQUFDRixZQUFZLENBQUNFLHNCQUFzQixDQUFDQyxjQUFjO1FBQ3pERixXQUFXLENBQUNHLGNBQWMsR0FBR0osWUFBWSxDQUFDRSxzQkFBc0I7SUFDbEUsQ0FBQztJQUNELEVBQUUsRUFBRUYsWUFBWSxDQUFDSyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3ZDSixXQUFXLENBQUNLLGFBQWEsR0FBR04sWUFBWSxDQUFDSyxxQkFBcUI7SUFDaEUsQ0FBQztJQUNESixXQUFXLENBQUNNLE1BQU0sR0FBR0Msd0JBQXdCLENBQUNSLFlBQVk7SUFDMURDLFdBQVcsQ0FBQ1EsVUFBVSxH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