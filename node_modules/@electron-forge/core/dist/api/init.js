"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _path = _interopRequireDefault(require("path"));
var _coreUtils = require("@electron-forge/core-utils");
var _debug = _interopRequireDefault(require("debug"));
var _listr2 = require("listr2");
var _semver = _interopRequireDefault(require("semver"));
var _installDependencies = _interopRequireWildcard(require("../util/install-dependencies"));
var _readPackageJson = require("../util/read-package-json");
var _findTemplate = require("./init-scripts/find-template");
var _initDirectory = require("./init-scripts/init-directory");
var _initGit = require("./init-scripts/init-git");
var _initNpm = require("./init-scripts/init-npm");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};
        if (obj != null) {
            for(var key in obj){
                if (Object.prototype.hasOwnProperty.call(obj, key)) {
                    var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};
                    if (desc.get || desc.set) {
                        Object.defineProperty(newObj, key, desc);
                    } else {
                        newObj[key] = obj[key];
                    }
                }
            }
        }
        newObj.default = obj;
        return newObj;
    }
}
const d = (0, _debug).default('electron-forge:init');
async function validateTemplate(template, templateModule) {
    if (!templateModule.requiredForgeVersion) {
        throw new Error(`Cannot use a template (${template}) with this version of Electron Forge, as it does not specify its required Forge version.`);
    }
    const forgeVersion = (await (0, _readPackageJson).readRawPackageJson(_path.default.join(__dirname, '..', '..'))).version;
    if (!_semver.default.satisfies(forgeVersion, templateModule.requiredForgeVersion)) {
        throw new Error(`Template (${template}) is not compatible with this version of Electron Forge (${forgeVersion}), it requires ${templateModule.requiredForgeVersion}`);
    }
}
var _default = async ({ dir =process.cwd() , interactive =false , copyCIFiles =false , force =false , template ='base'  })=>{
    d(`Initializing in: ${dir}`);
    const packageManager = (0, _coreUtils).safeYarnOrNpm();
    const runner = new _listr2.Listr([
        {
            title: `Locating custom template: "${template}"`,
            task: async (ctx)=>{
                ctx.templateModule = await (0, _findTemplate).findTemplate(dir, template);
            }
        },
        {
            title: 'Initializing directory',
            task: async (_, task)=>{
                await (0, _initDirectory).initDirectory(dir, task, force);
                await (0, _initGit).initGit(dir);
            },
            options: {
                persistentOutput: true
            }
        },
        {
            title: 'Preparing template',
            task: async ({ templateModule  })=>{
                await validateTemplate(template, templateModule);
            }
        },
        {
            title: 'Initializing template',
            task: async ({ templateModule  }, task)=>{
                if (typeof templateModule.initializeTemplate === 'function') {
                    const tasks = await templateModule.initializeTemplate(dir, {
                        copyCIFiles
                    });
                    if (tasks) {
                        return task.newListr(tasks, {
                            concurrent: false
                        });
                    }
                }
            }
        },
        {
            title: 'Installing template dependencies',
            task: async ({ templateModule  }, task1)=>{
                return task1.newListr([
                    {
                        title: 'Installing production dependencies',
                        task: async (_, task)=>{
                            var ref;
                            d('installing dependencies');
                            if ((ref = templateModule.dependencies) === null || ref === void 0 ? void 0 : ref.length) {
                                task.output = `${packageManager} install ${templateModule.dependencies.join(' ')}`;
                            }
                            return await (0, _installDependencies).default(dir, templateModule.dependencies || [], _installDependencies.DepType.PROD, _installDependencies.DepVersionRestriction.RANGE);
                        }
                    },
                    {
                        title: 'Installing development dependencies',
                        task: async (_, task)=>{
                            var ref;
                            d('installing devDependencies');
                            if ((ref = templateModule.devDependencies) === null || ref === void 0 ? void 0 : ref.length) {
                                task.output = `${packageManager} install --dev ${templateModule.devDependencies.join(' ')}`;
                            }
                            await (0, _installDependencies).default(dir, templateModule.devDependencies || [], _installDependencies.DepType.DEV);
                        }
                    },
                    {
                        title: 'Finalizing dependencies',
                        task: async (_, task)=>{
                            await (0, _initNpm).initNPM(dir, task);
                        }
                    }, 
                ], {
                    concurrent: false,
                    exitOnError: false
                });
            }
        }, 
    ], {
        concurrent: false,
        rendererSilent: !interactive,
        rendererFallback: Boolean(process.env.DEBUG && process.env.DEBUG.includes('electron-forge'))
    });
    await runner.run();
};
exports.default = _default;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvaW5pdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHsgc2FmZVlhcm5Pck5wbSB9IGZyb20gJ0BlbGVjdHJvbi1mb3JnZS9jb3JlLXV0aWxzJztcbmltcG9ydCB7IEZvcmdlVGVtcGxhdGUgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2Uvc2hhcmVkLXR5cGVzJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBMaXN0ciB9IGZyb20gJ2xpc3RyMic7XG5pbXBvcnQgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5cbmltcG9ydCBpbnN0YWxsRGVwTGlzdCwgeyBEZXBUeXBlLCBEZXBWZXJzaW9uUmVzdHJpY3Rpb24gfSBmcm9tICcuLi91dGlsL2luc3RhbGwtZGVwZW5kZW5jaWVzJztcbmltcG9ydCB7IHJlYWRSYXdQYWNrYWdlSnNvbiB9IGZyb20gJy4uL3V0aWwvcmVhZC1wYWNrYWdlLWpzb24nO1xuXG5pbXBvcnQgeyBmaW5kVGVtcGxhdGUgfSBmcm9tICcuL2luaXQtc2NyaXB0cy9maW5kLXRlbXBsYXRlJztcbmltcG9ydCB7IGluaXREaXJlY3RvcnkgfSBmcm9tICcuL2luaXQtc2NyaXB0cy9pbml0LWRpcmVjdG9yeSc7XG5pbXBvcnQgeyBpbml0R2l0IH0gZnJvbSAnLi9pbml0LXNjcmlwdHMvaW5pdC1naXQnO1xuaW1wb3J0IHsgaW5pdE5QTSB9IGZyb20gJy4vaW5pdC1zY3JpcHRzL2luaXQtbnBtJztcblxuY29uc3QgZCA9IGRlYnVnKCdlbGVjdHJvbi1mb3JnZTppbml0Jyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5pdE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIHBhdGggdG8gdGhlIGFwcCB0byBiZSBpbml0aWFsaXplZFxuICAgKi9cbiAgZGlyPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciB0byB1c2Ugc2Vuc2libGUgZGVmYXVsdHMgb3IgcHJvbXB0IHRoZSB1c2VyIHZpc3VhbGx5XG4gICAqL1xuICBpbnRlcmFjdGl2ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGNvcHkgdGVtcGxhdGUgQ0kgZmlsZXNcbiAgICovXG4gIGNvcHlDSUZpbGVzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gb3ZlcndyaXRlIGFuIGV4aXN0aW5nIGRpcmVjdG9yeVxuICAgKi9cbiAgZm9yY2U/OiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIGN1c3RvbSB0ZW1wbGF0ZSB0byB1c2UuIElmIGxlZnQgZW1wdHksIHRoZSBkZWZhdWx0IHRlbXBsYXRlIGlzIHVzZWRcbiAgICovXG4gIHRlbXBsYXRlPzogc3RyaW5nO1xufVxuXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcsIHRlbXBsYXRlTW9kdWxlOiBGb3JnZVRlbXBsYXRlKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghdGVtcGxhdGVNb2R1bGUucmVxdWlyZWRGb3JnZVZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1c2UgYSB0ZW1wbGF0ZSAoJHt0ZW1wbGF0ZX0pIHdpdGggdGhpcyB2ZXJzaW9uIG9mIEVsZWN0cm9uIEZvcmdlLCBhcyBpdCBkb2VzIG5vdCBzcGVjaWZ5IGl0cyByZXF1aXJlZCBGb3JnZSB2ZXJzaW9uLmApO1xuICB9XG5cbiAgY29uc3QgZm9yZ2VWZXJzaW9uID0gKGF3YWl0IHJlYWRSYXdQYWNrYWdlSnNvbihwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nLCAnLi4nKSkpLnZlcnNpb247XG4gIGlmICghc2VtdmVyLnNhdGlzZmllcyhmb3JnZVZlcnNpb24sIHRlbXBsYXRlTW9kdWxlLnJlcXVpcmVkRm9yZ2VWZXJzaW9uKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUZW1wbGF0ZSAoJHt0ZW1wbGF0ZX0pIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhpcyB2ZXJzaW9uIG9mIEVsZWN0cm9uIEZvcmdlICgke2ZvcmdlVmVyc2lvbn0pLCBpdCByZXF1aXJlcyAke3RlbXBsYXRlTW9kdWxlLnJlcXVpcmVkRm9yZ2VWZXJzaW9ufWBcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jICh7IGRpciA9IHByb2Nlc3MuY3dkKCksIGludGVyYWN0aXZlID0gZmFsc2UsIGNvcHlDSUZpbGVzID0gZmFsc2UsIGZvcmNlID0gZmFsc2UsIHRlbXBsYXRlID0gJ2Jhc2UnIH06IEluaXRPcHRpb25zKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGQoYEluaXRpYWxpemluZyBpbjogJHtkaXJ9YCk7XG5cbiAgY29uc3QgcGFja2FnZU1hbmFnZXIgPSBzYWZlWWFybk9yTnBtKCk7XG5cbiAgY29uc3QgcnVubmVyID0gbmV3IExpc3RyPHtcbiAgICB0ZW1wbGF0ZU1vZHVsZTogRm9yZ2VUZW1wbGF0ZTtcbiAgfT4oXG4gICAgW1xuICAgICAge1xuICAgICAgICB0aXRsZTogYExvY2F0aW5nIGN1c3RvbSB0ZW1wbGF0ZTogXCIke3RlbXBsYXRlfVwiYCxcbiAgICAgICAgdGFzazogYXN5bmMgKGN0eCkgPT4ge1xuICAgICAgICAgIGN0eC50ZW1wbGF0ZU1vZHVsZSA9IGF3YWl0IGZpbmRUZW1wbGF0ZShkaXIsIHRlbXBsYXRlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnSW5pdGlhbGl6aW5nIGRpcmVjdG9yeScsXG4gICAgICAgIHRhc2s6IGFzeW5jIChfLCB0YXNrKSA9PiB7XG4gICAgICAgICAgYXdhaXQgaW5pdERpcmVjdG9yeShkaXIsIHRhc2ssIGZvcmNlKTtcbiAgICAgICAgICBhd2FpdCBpbml0R2l0KGRpcik7XG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwZXJzaXN0ZW50T3V0cHV0OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdQcmVwYXJpbmcgdGVtcGxhdGUnLFxuICAgICAgICB0YXNrOiBhc3luYyAoeyB0ZW1wbGF0ZU1vZHVsZSB9KSA9PiB7XG4gICAgICAgICAgYXdhaXQgdmFsaWRhdGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGVtcGxhdGVNb2R1bGUpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdJbml0aWFsaXppbmcgdGVtcGxhdGUnLFxuICAgICAgICB0YXNrOiBhc3luYyAoeyB0ZW1wbGF0ZU1vZHVsZSB9LCB0YXNrKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZU1vZHVsZS5pbml0aWFsaXplVGVtcGxhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgdGVtcGxhdGVNb2R1bGUuaW5pdGlhbGl6ZVRlbXBsYXRlKGRpciwgeyBjb3B5Q0lGaWxlcyB9KTtcbiAgICAgICAgICAgIGlmICh0YXNrcykge1xuICAgICAgICAgICAgICByZXR1cm4gdGFzay5uZXdMaXN0cih0YXNrcywgeyBjb25jdXJyZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0luc3RhbGxpbmcgdGVtcGxhdGUgZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgdGFzazogYXN5bmMgKHsgdGVtcGxhdGVNb2R1bGUgfSwgdGFzaykgPT4ge1xuICAgICAgICAgIHJldHVybiB0YXNrLm5ld0xpc3RyKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdJbnN0YWxsaW5nIHByb2R1Y3Rpb24gZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgICAgICB0YXNrOiBhc3luYyAoXywgdGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgZCgnaW5zdGFsbGluZyBkZXBlbmRlbmNpZXMnKTtcbiAgICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZU1vZHVsZS5kZXBlbmRlbmNpZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLm91dHB1dCA9IGAke3BhY2thZ2VNYW5hZ2VyfSBpbnN0YWxsICR7dGVtcGxhdGVNb2R1bGUuZGVwZW5kZW5jaWVzLmpvaW4oJyAnKX1gO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGluc3RhbGxEZXBMaXN0KGRpciwgdGVtcGxhdGVNb2R1bGUuZGVwZW5kZW5jaWVzIHx8IFtdLCBEZXBUeXBlLlBST0QsIERlcFZlcnNpb25SZXN0cmljdGlvbi5SQU5HRSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnSW5zdGFsbGluZyBkZXZlbG9wbWVudCBkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgICAgICAgIHRhc2s6IGFzeW5jIChfLCB0YXNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICBkKCdpbnN0YWxsaW5nIGRldkRlcGVuZGVuY2llcycpO1xuICAgICAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlTW9kdWxlLmRldkRlcGVuZGVuY2llcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2sub3V0cHV0ID0gYCR7cGFja2FnZU1hbmFnZXJ9IGluc3RhbGwgLS1kZXYgJHt0ZW1wbGF0ZU1vZHVsZS5kZXZEZXBlbmRlbmNpZXMuam9pbignICcpfWA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhd2FpdCBpbnN0YWxsRGVwTGlzdChkaXIsIHRlbXBsYXRlTW9kdWxlLmRldkRlcGVuZGVuY2llcyB8fCBbXSwgRGVwVHlwZS5ERVYpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0ZpbmFsaXppbmcgZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgICAgICB0YXNrOiBhc3luYyAoXywgdGFzaykgPT4ge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgaW5pdE5QTShkaXIsIHRhc2spO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb25jdXJyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgZXhpdE9uRXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAge1xuICAgICAgY29uY3VycmVudDogZmFsc2UsXG4gICAgICByZW5kZXJlclNpbGVudDogIWludGVyYWN0aXZlLFxuICAgICAgcmVuZGVyZXJGYWxsYmFjazogQm9vbGVhbihwcm9jZXNzLmVudi5ERUJVRyAmJiBwcm9jZXNzLmVudi5ERUJVRy5pbmNsdWRlcygnZWxlY3Ryb24tZm9yZ2UnKSksXG4gICAgfVxuICApO1xuXG4gIGF3YWl0IHJ1bm5lci5ydW4oKTtcbn07XG4iXSwibmFtZXMiOlsiZCIsImRlYnVnIiwidmFsaWRhdGVUZW1wbGF0ZSIsInRlbXBsYXRlIiwidGVtcGxhdGVNb2R1bGUiLCJyZXF1aXJlZEZvcmdlVmVyc2lvbiIsIkVycm9yIiwiZm9yZ2VWZXJzaW9uIiwicmVhZFJhd1BhY2thZ2VKc29uIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ2ZXJzaW9uIiwic2VtdmVyIiwic2F0aXNmaWVzIiwiZGlyIiwicHJvY2VzcyIsImN3ZCIsImludGVyYWN0aXZlIiwiY29weUNJRmlsZXMiLCJmb3JjZSIsInBhY2thZ2VNYW5hZ2VyIiwic2FmZVlhcm5Pck5wbSIsInJ1bm5lciIsIkxpc3RyIiwidGl0bGUiLCJ0YXNrIiwiY3R4IiwiZmluZFRlbXBsYXRlIiwiXyIsImluaXREaXJlY3RvcnkiLCJpbml0R2l0Iiwib3B0aW9ucyIsInBlcnNpc3RlbnRPdXRwdXQiLCJpbml0aWFsaXplVGVtcGxhdGUiLCJ0YXNrcyIsIm5ld0xpc3RyIiwiY29uY3VycmVudCIsImRlcGVuZGVuY2llcyIsImxlbmd0aCIsIm91dHB1dCIsImluc3RhbGxEZXBMaXN0IiwiRGVwVHlwZSIsIlBST0QiLCJEZXBWZXJzaW9uUmVzdHJpY3Rpb24iLCJSQU5HRSIsImRldkRlcGVuZGVuY2llcyIsIkRFViIsImluaXROUE0iLCJleGl0T25FcnJvciIsInJlbmRlcmVyU2lsZW50IiwicmVuZGVyZXJGYWxsYmFjayIsIkJvb2xlYW4iLCJlbnYiLCJERUJVRyIsImluY2x1ZGVzIiwicnVuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFpQixHQUFNLENBQU4sS0FBTTtBQUVPLEdBQTRCLENBQTVCLFVBQTRCO0FBRXhDLEdBQU8sQ0FBUCxNQUFPO0FBQ0gsR0FBUSxDQUFSLE9BQVE7QUFDWCxHQUFRLENBQVIsT0FBUTtBQUVvQyxHQUE4QixDQUE5QixvQkFBOEI7QUFDMUQsR0FBMkIsQ0FBM0IsZ0JBQTJCO0FBRWpDLEdBQThCLENBQTlCLGFBQThCO0FBQzdCLEdBQStCLENBQS9CLGNBQStCO0FBQ3JDLEdBQXlCLENBQXpCLFFBQXlCO0FBQ3pCLEdBQXlCLENBQXpCLFFBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFakQsS0FBSyxDQUFDQSxDQUFDLE9BQUdDLE1BQUssVUFBQyxDQUFxQjtlQXlCdEJDLGdCQUFnQixDQUFDQyxRQUFnQixFQUFFQyxjQUE2QixFQUFpQixDQUFDO0lBQy9GLEVBQUUsR0FBR0EsY0FBYyxDQUFDQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3pDLEtBQUssQ0FBQyxHQUFHLENBQUNDLEtBQUssRUFBRSx1QkFBdUIsRUFBRUgsUUFBUSxDQUFDLHlGQUF5RjtJQUM5SSxDQUFDO0lBRUQsS0FBSyxDQUFDSSxZQUFZLElBQUksS0FBSyxLQUFDQyxnQkFBa0IscUJBQUNDLEtBQUksU0FBQ0MsSUFBSSxDQUFDQyxT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