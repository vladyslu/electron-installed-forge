"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _path = _interopRequireDefault(require("path"));
var _debug = _interopRequireDefault(require("debug"));
var _fsExtra = _interopRequireDefault(require("fs-extra"));
var _determineAuthor = _interopRequireDefault(require("./determine-author"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// eslint-disable-next-line @typescript-eslint/no-var-requires
const currentForgeVersion = require('../package.json').version;
const d = (0, _debug).default('electron-forge:template:base');
const tmplDir = _path.default.resolve(__dirname, '../tmpl');
class BaseTemplate {
    get devDependencies() {
        const packageJSONPath = _path.default.join(this.templateDir, 'package.json');
        if (_fsExtra.default.pathExistsSync(packageJSONPath)) {
            const packageDevDeps = _fsExtra.default.readJsonSync(packageJSONPath).devDependencies;
            if (packageDevDeps) {
                return Object.entries(packageDevDeps).map(([packageName, version])=>{
                    if (version === 'ELECTRON_FORGE/VERSION') {
                        version = `^${currentForgeVersion}`;
                    }
                    return `${packageName}@${version}`;
                });
            }
        }
        return [];
    }
    async initializeTemplate(directory, { copyCIFiles  }) {
        return [
            {
                title: 'Copying starter files',
                task: async ()=>{
                    d('creating directory:', _path.default.resolve(directory, 'src'));
                    await _fsExtra.default.mkdirs(_path.default.resolve(directory, 'src'));
                    const rootFiles = [
                        '_gitignore',
                        'forge.config.js'
                    ];
                    if (copyCIFiles) {
                        d(`Copying CI files is currently not supported - this will be updated in a later version of Forge`);
                    }
                    const srcFiles = [
                        'index.css',
                        'index.js',
                        'index.html',
                        'preload.js'
                    ];
                    for (const file of rootFiles){
                        await this.copy(_path.default.resolve(tmplDir, file), _path.default.resolve(directory, file.replace(/^_/, '.')));
                    }
                    for (const file1 of srcFiles){
                        await this.copy(_path.default.resolve(tmplDir, file1), _path.default.resolve(directory, 'src', file1));
                    }
                }
            },
            {
                title: 'Initializing package.json',
                task: async ()=>{
                    await this.initializePackageJSON(directory);
                }
            }, 
        ];
    }
    async copy(source, target) {
        d(`copying "${source}" --> "${target}"`);
        await _fsExtra.default.copy(source, target);
    }
    async copyTemplateFile(destDir, basename) {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        await this.copy(_path.default.join(this.templateDir, basename), _path.default.resolve(destDir, basename));
    }
    async initializePackageJSON(directory) {
        const packageJSON = await _fsExtra.default.readJson(_path.default.resolve(__dirname, '../tmpl/package.json'));
        packageJSON.productName = packageJSON.name = _path.default.basename(directory).toLowerCase();
        packageJSON.author = await (0, _determineAuthor).default(directory);
        packageJSON.scripts.lint = 'echo "No linting configured"';
        d('writing package.json to:', directory);
        await _fsExtra.default.writeJson(_path.default.resolve(directory, 'package.json'), packageJSON, {
            spaces: 2
        });
    }
    async updateFileByLine(inputPath, lineHandler, outputPath) {
        const fileContents = (await _fsExtra.default.readFile(inputPath, 'utf8')).split('\n').map(lineHandler).join('\n');
        await _fsExtra.default.writeFile(outputPath || inputPath, fileContents);
        if (outputPath !== undefined) {
            await _fsExtra.default.remove(inputPath);
        }
    }
    constructor(){
        this.templateDir = tmplDir;
        this.requiredForgeVersion = currentForgeVersion;
    }
}
exports.BaseTemplate = BaseTemplate;
var _default = new BaseTemplate();
exports.default = _default;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNlVGVtcGxhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmltcG9ydCB7IEZvcmdlTGlzdHJUYXNrRGVmaW5pdGlvbiwgRm9yZ2VUZW1wbGF0ZSwgSW5pdFRlbXBsYXRlT3B0aW9ucyB9IGZyb20gJ0BlbGVjdHJvbi1mb3JnZS9zaGFyZWQtdHlwZXMnO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5cbmltcG9ydCBkZXRlcm1pbmVBdXRob3IgZnJvbSAnLi9kZXRlcm1pbmUtYXV0aG9yJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbmNvbnN0IGN1cnJlbnRGb3JnZVZlcnNpb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuXG5jb25zdCBkID0gZGVidWcoJ2VsZWN0cm9uLWZvcmdlOnRlbXBsYXRlOmJhc2UnKTtcbmNvbnN0IHRtcGxEaXIgPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vdG1wbCcpO1xuXG5leHBvcnQgY2xhc3MgQmFzZVRlbXBsYXRlIGltcGxlbWVudHMgRm9yZ2VUZW1wbGF0ZSB7XG4gIHB1YmxpYyB0ZW1wbGF0ZURpciA9IHRtcGxEaXI7XG5cbiAgcHVibGljIHJlcXVpcmVkRm9yZ2VWZXJzaW9uID0gY3VycmVudEZvcmdlVmVyc2lvbjtcblxuICBnZXQgZGV2RGVwZW5kZW5jaWVzKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBwYWNrYWdlSlNPTlBhdGggPSBwYXRoLmpvaW4odGhpcy50ZW1wbGF0ZURpciwgJ3BhY2thZ2UuanNvbicpO1xuICAgIGlmIChmcy5wYXRoRXhpc3RzU3luYyhwYWNrYWdlSlNPTlBhdGgpKSB7XG4gICAgICBjb25zdCBwYWNrYWdlRGV2RGVwcyA9IGZzLnJlYWRKc29uU3luYyhwYWNrYWdlSlNPTlBhdGgpLmRldkRlcGVuZGVuY2llcztcbiAgICAgIGlmIChwYWNrYWdlRGV2RGVwcykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMocGFja2FnZURldkRlcHMpLm1hcCgoW3BhY2thZ2VOYW1lLCB2ZXJzaW9uXSkgPT4ge1xuICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAnRUxFQ1RST05fRk9SR0UvVkVSU0lPTicpIHtcbiAgICAgICAgICAgIHZlcnNpb24gPSBgXiR7Y3VycmVudEZvcmdlVmVyc2lvbn1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYCR7cGFja2FnZU5hbWV9QCR7dmVyc2lvbn1gO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW107XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZVRlbXBsYXRlKGRpcmVjdG9yeTogc3RyaW5nLCB7IGNvcHlDSUZpbGVzIH06IEluaXRUZW1wbGF0ZU9wdGlvbnMpOiBQcm9taXNlPEZvcmdlTGlzdHJUYXNrRGVmaW5pdGlvbltdPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdDb3B5aW5nIHN0YXJ0ZXIgZmlsZXMnLFxuICAgICAgICB0YXNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgZCgnY3JlYXRpbmcgZGlyZWN0b3J5OicsIHBhdGgucmVzb2x2ZShkaXJlY3RvcnksICdzcmMnKSk7XG4gICAgICAgICAgYXdhaXQgZnMubWtkaXJzKHBhdGgucmVzb2x2ZShkaXJlY3RvcnksICdzcmMnKSk7XG4gICAgICAgICAgY29uc3Qgcm9vdEZpbGVzID0gWydfZ2l0aWdub3JlJywgJ2ZvcmdlLmNvbmZpZy5qcyddO1xuICAgICAgICAgIGlmIChjb3B5Q0lGaWxlcykge1xuICAgICAgICAgICAgZChgQ29weWluZyBDSSBmaWxlcyBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCAtIHRoaXMgd2lsbCBiZSB1cGRhdGVkIGluIGEgbGF0ZXIgdmVyc2lvbiBvZiBGb3JnZWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzcmNGaWxlcyA9IFsnaW5kZXguY3NzJywgJ2luZGV4LmpzJywgJ2luZGV4Lmh0bWwnLCAncHJlbG9hZC5qcyddO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJvb3RGaWxlcykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jb3B5KHBhdGgucmVzb2x2ZSh0bXBsRGlyLCBmaWxlKSwgcGF0aC5yZXNvbHZlKGRpcmVjdG9yeSwgZmlsZS5yZXBsYWNlKC9eXy8sICcuJykpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHNyY0ZpbGVzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNvcHkocGF0aC5yZXNvbHZlKHRtcGxEaXIsIGZpbGUpLCBwYXRoLnJlc29sdmUoZGlyZWN0b3J5LCAnc3JjJywgZmlsZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnSW5pdGlhbGl6aW5nIHBhY2thZ2UuanNvbicsXG4gICAgICAgIHRhc2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQYWNrYWdlSlNPTihkaXJlY3RvcnkpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgYXN5bmMgY29weShzb3VyY2U6IHN0cmluZywgdGFyZ2V0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBkKGBjb3B5aW5nIFwiJHtzb3VyY2V9XCIgLS0+IFwiJHt0YXJnZXR9XCJgKTtcbiAgICBhd2FpdCBmcy5jb3B5KHNvdXJjZSwgdGFyZ2V0KTtcbiAgfVxuXG4gIGFzeW5jIGNvcHlUZW1wbGF0ZUZpbGUoZGVzdERpcjogc3RyaW5nLCBiYXNlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICBhd2FpdCB0aGlzLmNvcHkocGF0aC5qb2luKHRoaXMudGVtcGxhdGVEaXIhLCBiYXNlbmFtZSksIHBhdGgucmVzb2x2ZShkZXN0RGlyLCBiYXNlbmFtZSkpO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZVBhY2thZ2VKU09OKGRpcmVjdG9yeTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGFja2FnZUpTT04gPSBhd2FpdCBmcy5yZWFkSnNvbihwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vdG1wbC9wYWNrYWdlLmpzb24nKSk7XG4gICAgcGFja2FnZUpTT04ucHJvZHVjdE5hbWUgPSBwYWNrYWdlSlNPTi5uYW1lID0gcGF0aC5iYXNlbmFtZShkaXJlY3RvcnkpLnRvTG93ZXJDYXNlKCk7XG4gICAgcGFja2FnZUpTT04uYXV0aG9yID0gYXdhaXQgZGV0ZXJtaW5lQXV0aG9yKGRpcmVjdG9yeSk7XG5cbiAgICBwYWNrYWdlSlNPTi5zY3JpcHRzLmxpbnQgPSAnZWNobyBcIk5vIGxpbnRpbmcgY29uZmlndXJlZFwiJztcblxuICAgIGQoJ3dyaXRpbmcgcGFja2FnZS5qc29uIHRvOicsIGRpcmVjdG9yeSk7XG4gICAgYXdhaXQgZnMud3JpdGVKc29uKHBhdGgucmVzb2x2ZShkaXJlY3RvcnksICdwYWNrYWdlLmpzb24nKSwgcGFja2FnZUpTT04sIHsgc3BhY2VzOiAyIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlRmlsZUJ5TGluZShpbnB1dFBhdGg6IHN0cmluZywgbGluZUhhbmRsZXI6IChsaW5lOiBzdHJpbmcpID0+IHN0cmluZywgb3V0cHV0UGF0aD86IHN0cmluZyB8IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGVDb250ZW50cyA9IChhd2FpdCBmcy5yZWFkRmlsZShpbnB1dFBhdGgsICd1dGY4JykpLnNwbGl0KCdcXG4nKS5tYXAobGluZUhhbmRsZXIpLmpvaW4oJ1xcbicpO1xuICAgIGF3YWl0IGZzLndyaXRlRmlsZShvdXRwdXRQYXRoIHx8IGlucHV0UGF0aCwgZmlsZUNvbnRlbnRzKTtcbiAgICBpZiAob3V0cHV0UGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhd2FpdCBmcy5yZW1vdmUoaW5wdXRQYXRoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEJhc2VUZW1wbGF0ZSgpO1xuIl0sIm5hbWVzIjpbImN1cnJlbnRGb3JnZVZlcnNpb24iLCJyZXF1aXJlIiwidmVyc2lvbiIsImQiLCJkZWJ1ZyIsInRtcGxEaXIiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsIkJhc2VUZW1wbGF0ZSIsImRldkRlcGVuZGVuY2llcyIsInBhY2thZ2VKU09OUGF0aCIsImpvaW4iLCJ0ZW1wbGF0ZURpciIsImZzIiwicGF0aEV4aXN0c1N5bmMiLCJwYWNrYWdlRGV2RGVwcyIsInJlYWRKc29uU3luYyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJwYWNrYWdlTmFtZSIsImluaXRpYWxpemVUZW1wbGF0ZSIsImRpcmVjdG9yeSIsImNvcHlDSUZpbGVzIiwidGl0bGUiLCJ0YXNrIiwibWtkaXJzIiwicm9vdEZpbGVzIiwic3JjRmlsZXMiLCJmaWxlIiwiY29weSIsInJlcGxhY2UiLCJpbml0aWFsaXplUGFja2FnZUpTT04iLCJzb3VyY2UiLCJ0YXJnZXQiLCJjb3B5VGVtcGxhdGVGaWxlIiwiZGVzdERpciIsImJhc2VuYW1lIiwicGFja2FnZUpTT04iLCJyZWFkSnNvbiIsInByb2R1Y3ROYW1lIiwibmFtZSIsInRvTG93ZXJDYXNlIiwiYXV0aG9yIiwiZGV0ZXJtaW5lQXV0aG9yIiwic2NyaXB0cyIsImxpbnQiLCJ3cml0ZUpzb24iLCJzcGFjZXMiLCJ1cGRhdGVGaWxlQnlMaW5lIiwiaW5wdXRQYXRoIiwibGluZUhhbmRsZXIiLCJvdXRwdXRQYXRoIiwiZmlsZUNvbnRlbnRzIiwicmVhZEZpbGUiLCJzcGxpdCIsIndy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