"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MakerBase = exports.default = void 0;
var _path = _interopRequireDefault(require("path"));
var _fsExtra = _interopRequireDefault(require("fs-extra"));
var _which = _interopRequireDefault(require("which"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
class Maker {
    /**
   * @param configOrConfigFetcher - Either a configuration object for this maker or a simple method that returns such a configuration for a given target architecture
   * @param platformsToMakeOn - If you want this maker to run on platforms different from `defaultPlatforms` you can provide those platforms here
   */ constructor(configOrConfigFetcher = {}, platformsToMakeOn){
        this.configOrConfigFetcher = configOrConfigFetcher;
        this.platformsToMakeOn = platformsToMakeOn;
        this.requiredExternalBinaries = [];
        Object.defineProperty(this, '__isElectronForgeMaker', {
            value: true,
            enumerable: false,
            configurable: false
        });
    }
    get platforms() {
        if (this.platformsToMakeOn) return this.platformsToMakeOn;
        return this.defaultPlatforms;
    }
    // TODO: Remove this, it is an eye-sore and is a nasty hack to provide forge
    //       v5 style functionality in the new API
    prepareConfig(targetArch) {
        if (typeof this.configOrConfigFetcher === 'function') {
            this.config = this.configOrConfigFetcher(targetArch);
        } else {
            this.config = this.configOrConfigFetcher;
        }
    }
    /**
   * Makers must implement this method and return true or false indicating whether
   * this maker can be run on the current platform.  Normally this is just a process.platform
   * check but it can be a deeper check for dependencies like fake-root or other
   * required external build tools.
   *
   * If the issue is a missing dependency you should log out a HELPFUL error message
   * telling the developer exactly what is missing and if possible how to get it.
   */ isSupportedOnCurrentPlatform() {
        if (this.isSupportedOnCurrentPlatform === Maker.prototype.isSupportedOnCurrentPlatform) {
            throw new Error(`Maker ${this.name} did not implement the isSupportedOnCurrentPlatform method`);
        }
        return true;
    }
    /**
   * Makers must implement this method and return an array of absolute paths
   * to the artifacts generated by your maker
   */ // eslint-disable-next-line @typescript-eslint/no-unused-vars
    async make(opts) {
        if (this.make === Maker.prototype.make) {
            throw new Error(`Maker ${this.name} did not implement the make method`);
        }
        return [];
    }
    /**
   * Helpers
   */ /**
   * Ensures the directory exists and is forced to be empty.
   *
   * I.e. If the directory already exists it is deleted and recreated, this
   * is a destructive operation
   */ async ensureDirectory(dir) {
        if (await _fsExtra.default.pathExists(dir)) {
            await _fsExtra.default.remove(dir);
        }
        return _fsExtra.default.mkdirs(dir);
    }
    /**
   * Ensures the path to the file exists and the file does not exist
   *
   * I.e. If the file already exists it is deleted and the path created
   */ async ensureFile(file) {
        if (await _fsExtra.default.pathExists(file)) {
            await _fsExtra.default.remove(file);
        }
        await _fsExtra.default.mkdirs(_path.default.dirname(file));
    }
    /**
   * Checks if the specified binaries exist, which are required for the maker to be used.
   */ externalBinariesExist() {
        return this.requiredExternalBinaries.every((binary)=>_which.default.sync(binary, {
                nothrow: true
            }) !== null
        );
    }
    /**
   * Throws an error if any of the binaries don't exist.
   */ ensureExternalBinariesExist() {
        if (!this.externalBinariesExist()) {
            throw new Error(`Cannot make for ${this.name}, the following external binaries need to be installed: ${this.requiredExternalBinaries.join(', ')}`);
        }
    }
    /**
   * Checks if the given module is installed, used for testing if optional dependencies
   * are installed or not
   */ isInstalled(module) {
        try {
            require(module);
            return true;
        } catch (e) {
            // Package doesn't exist -- must not be installable on this platform
            return false;
        }
    }
    /**
   * Normalize the given semver-formatted version to a 4-part dot delimited version number without
   * prerelease information for use in Windows apps.
   */ normalizeWindowsVersion(version) {
        const noPrerelease = version.replace(/-.*/, '');
        return `${noPrerelease}.0`;
    }
}
exports.default = Maker;
exports.MakerBase = Maker;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9NYWtlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHsgRm9yZ2VBcmNoLCBGb3JnZVBsYXRmb3JtLCBJRm9yZ2VNYWtlciwgUmVzb2x2ZWRGb3JnZUNvbmZpZyB9IGZyb20gJ0BlbGVjdHJvbi1mb3JnZS9zaGFyZWQtdHlwZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzLWV4dHJhJztcbmltcG9ydCB3aGljaCBmcm9tICd3aGljaCc7XG5cbmV4cG9ydCB0eXBlIEVtcHR5Q29uZmlnID0gUmVjb3JkPHN0cmluZywgbmV2ZXI+O1xuXG5leHBvcnQgaW50ZXJmYWNlIE1ha2VyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgZGlyZWN0b3J5IGNvbnRhaW5pbmcgdGhlIHBhY2thZ2VkIEVsZWN0cm9uIGFwcGxpY2F0aW9uXG4gICAqL1xuICBkaXI6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkaXJlY3RvcnkgeW91IHNob3VsZCBwdXQgYWxsIHlvdXIgYXJ0aWZhY3RzIGluIChwb3RlbnRpYWxseSBpbiBzdWIgZm9sZGVycylcbiAgICogTk9URTogdGhpcyBkaXJlY3RvcnkgaXMgbm90IGd1YXJ1bnRlZWQgdG8gYWxyZWFkeSBleGlzdFxuICAgKi9cbiAgbWFrZURpcjogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHJlc29sdmVkIGh1bWFuIGZyaWVuZGx5IG5hbWUgb2YgdGhlIHByb2plY3RcbiAgICovXG4gIGFwcE5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0YXJnZXQgcGxhdGZvcm0geW91IHNob3VsZCBtYWtlIGZvclxuICAgKi9cbiAgdGFyZ2V0UGxhdGZvcm06IEZvcmdlUGxhdGZvcm07XG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IGFyY2hpdGVjdHVyZSB5b3Ugc2hvdWxkIG1ha2UgZm9yXG4gICAqL1xuICB0YXJnZXRBcmNoOiBGb3JnZUFyY2g7XG4gIC8qKlxuICAgKiBGdWxseSByZXNvbHZlZCBmb3JnZSBjb25maWd1cmF0aW9uLCB5b3Ugc2hvdWxkbid0IHJlYWxseSBuZWVkIHRoaXNcbiAgICovXG4gIGZvcmdlQ29uZmlnOiBSZXNvbHZlZEZvcmdlQ29uZmlnO1xuICAvKipcbiAgICogVGhlIGFwcGxpY2F0aW9uJ3MgcGFja2FnZS5qc29uIGZpbGVcbiAgICovXG4gIHBhY2thZ2VKU09OOiBhbnk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxufVxuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBNYWtlcjxDPiBpbXBsZW1lbnRzIElGb3JnZU1ha2VyIHtcbiAgcHVibGljIGNvbmZpZyE6IEM7XG5cbiAgcHVibGljIGFic3RyYWN0IG5hbWU6IHN0cmluZztcblxuICBwdWJsaWMgYWJzdHJhY3QgZGVmYXVsdFBsYXRmb3JtczogRm9yZ2VQbGF0Zm9ybVtdO1xuXG4gIHB1YmxpYyByZXF1aXJlZEV4dGVybmFsQmluYXJpZXM6IHN0cmluZ1tdID0gW107XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX2lzRWxlY3Ryb25Gb3JnZU1ha2VyITogdHJ1ZTtcblxuICAvKipcbiAgICogQHBhcmFtIGNvbmZpZ09yQ29uZmlnRmV0Y2hlciAtIEVpdGhlciBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGlzIG1ha2VyIG9yIGEgc2ltcGxlIG1ldGhvZCB0aGF0IHJldHVybnMgc3VjaCBhIGNvbmZpZ3VyYXRpb24gZm9yIGEgZ2l2ZW4gdGFyZ2V0IGFyY2hpdGVjdHVyZVxuICAgKiBAcGFyYW0gcGxhdGZvcm1zVG9NYWtlT24gLSBJZiB5b3Ugd2FudCB0aGlzIG1ha2VyIHRvIHJ1biBvbiBwbGF0Zm9ybXMgZGlmZmVyZW50IGZyb20gYGRlZmF1bHRQbGF0Zm9ybXNgIHlvdSBjYW4gcHJvdmlkZSB0aG9zZSBwbGF0Zm9ybXMgaGVyZVxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjb25maWdPckNvbmZpZ0ZldGNoZXI6IEMgfCAoKGFyY2g6IEZvcmdlQXJjaCkgPT4gQykgPSB7fSBhcyBDLCBwcm90ZWN0ZWQgcGxhdGZvcm1zVG9NYWtlT24/OiBGb3JnZVBsYXRmb3JtW10pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19faXNFbGVjdHJvbkZvcmdlTWFrZXInLCB7XG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBwbGF0Zm9ybXMoKTogRm9yZ2VQbGF0Zm9ybVtdIHtcbiAgICBpZiAodGhpcy5wbGF0Zm9ybXNUb01ha2VPbikgcmV0dXJuIHRoaXMucGxhdGZvcm1zVG9NYWtlT247XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFBsYXRmb3JtcztcbiAgfVxuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzLCBpdCBpcyBhbiBleWUtc29yZSBhbmQgaXMgYSBuYXN0eSBoYWNrIHRvIHByb3ZpZGUgZm9yZ2VcbiAgLy8gICAgICAgdjUgc3R5bGUgZnVuY3Rpb25hbGl0eSBpbiB0aGUgbmV3IEFQSVxuICBwcmVwYXJlQ29uZmlnKHRhcmdldEFyY2g6IEZvcmdlQXJjaCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdGhpcy5jb25maWdPckNvbmZpZ0ZldGNoZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuY29uZmlnID0gKHRoaXMuY29uZmlnT3JDb25maWdGZXRjaGVyIGFzIHVua25vd24gYXMgKGFyY2g6IEZvcmdlQXJjaCkgPT4gQykodGFyZ2V0QXJjaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5jb25maWdPckNvbmZpZ0ZldGNoZXIgYXMgQztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFrZXJzIG11c3QgaW1wbGVtZW50IHRoaXMgbWV0aG9kIGFuZCByZXR1cm4gdHJ1ZSBvciBmYWxzZSBpbmRpY2F0aW5nIHdoZXRoZXJcbiAgICogdGhpcyBtYWtlciBjYW4gYmUgcnVuIG9uIHRoZSBjdXJyZW50IHBsYXRmb3JtLiAgTm9ybWFsbHkgdGhpcyBpcyBqdXN0IGEgcHJvY2Vzcy5wbGF0Zm9ybVxuICAgKiBjaGVjayBidXQgaXQgY2FuIGJlIGEgZGVlcGVyIGNoZWNrIGZvciBkZXBlbmRlbmNpZXMgbGlrZSBmYWtlLXJvb3Qgb3Igb3RoZXJcbiAgICogcmVxdWlyZWQgZXh0ZXJuYWwgYnVpbGQgdG9vbHMuXG4gICAqXG4gICAqIElmIHRoZSBpc3N1ZSBpcyBhIG1pc3NpbmcgZGVwZW5kZW5jeSB5b3Ugc2hvdWxkIGxvZyBvdXQgYSBIRUxQRlVMIGVycm9yIG1lc3NhZ2VcbiAgICogdGVsbGluZyB0aGUgZGV2ZWxvcGVyIGV4YWN0bHkgd2hhdCBpcyBtaXNzaW5nIGFuZCBpZiBwb3NzaWJsZSBob3cgdG8gZ2V0IGl0LlxuICAgKi9cbiAgaXNTdXBwb3J0ZWRPbkN1cnJlbnRQbGF0Zm9ybSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc1N1cHBvcnRlZE9uQ3VycmVudFBsYXRmb3JtID09PSBNYWtlci5wcm90b3R5cGUuaXNTdXBwb3J0ZWRPbkN1cnJlbnRQbGF0Zm9ybSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWtlciAke3RoaXMubmFtZX0gZGlkIG5vdCBpbXBsZW1lbnQgdGhlIGlzU3VwcG9ydGVkT25DdXJyZW50UGxhdGZvcm0gbWV0aG9kYCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VycyBtdXN0IGltcGxlbWVudCB0aGlzIG1ldGhvZCBhbmQgcmV0dXJuIGFuIGFycmF5IG9mIGFic29sdXRlIHBhdGhzXG4gICAqIHRvIHRoZSBhcnRpZmFjdHMgZ2VuZXJhdGVkIGJ5IHlvdXIgbWFrZXJcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgYXN5bmMgbWFrZShvcHRzOiBNYWtlck9wdGlvbnMpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgaWYgKHRoaXMubWFrZSA9PT0gTWFrZXIucHJvdG90eXBlLm1ha2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWFrZXIgJHt0aGlzLm5hbWV9IGRpZCBub3QgaW1wbGVtZW50IHRoZSBtYWtlIG1ldGhvZGApO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyc1xuICAgKi9cblxuICAvKipcbiAgICogRW5zdXJlcyB0aGUgZGlyZWN0b3J5IGV4aXN0cyBhbmQgaXMgZm9yY2VkIHRvIGJlIGVtcHR5LlxuICAgKlxuICAgKiBJLmUuIElmIHRoZSBkaXJlY3RvcnkgYWxyZWFkeSBleGlzdHMgaXQgaXMgZGVsZXRlZCBhbmQgcmVjcmVhdGVkLCB0aGlzXG4gICAqIGlzIGEgZGVzdHJ1Y3RpdmUgb3BlcmF0aW9uXG4gICAqL1xuICBhc3luYyBlbnN1cmVEaXJlY3RvcnkoZGlyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoYXdhaXQgZnMucGF0aEV4aXN0cyhkaXIpKSB7XG4gICAgICBhd2FpdCBmcy5yZW1vdmUoZGlyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZzLm1rZGlycyhkaXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhlIHBhdGggdG8gdGhlIGZpbGUgZXhpc3RzIGFuZCB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdFxuICAgKlxuICAgKiBJLmUuIElmIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzIGl0IGlzIGRlbGV0ZWQgYW5kIHRoZSBwYXRoIGNyZWF0ZWRcbiAgICovXG4gIGFzeW5jIGVuc3VyZUZpbGUoZmlsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGF3YWl0IGZzLnBhdGhFeGlzdHMoZmlsZSkpIHtcbiAgICAgIGF3YWl0IGZzLnJlbW92ZShmaWxlKTtcbiAgICB9XG4gICAgYXdhaXQgZnMubWtkaXJzKHBhdGguZGlybmFtZShmaWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgYmluYXJpZXMgZXhpc3QsIHdoaWNoIGFyZSByZXF1aXJlZCBmb3IgdGhlIG1ha2VyIHRvIGJlIHVzZWQuXG4gICAqL1xuICBleHRlcm5hbEJpbmFyaWVzRXhpc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWlyZWRFeHRlcm5hbEJpbmFyaWVzLmV2ZXJ5KChiaW5hcnkpID0+IHdoaWNoLnN5bmMoYmluYXJ5LCB7IG5vdGhyb3c6IHRydWUgfSkgIT09IG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiBhbnkgb2YgdGhlIGJpbmFyaWVzIGRvbid0IGV4aXN0LlxuICAgKi9cbiAgZW5zdXJlRXh0ZXJuYWxCaW5hcmllc0V4aXN0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5leHRlcm5hbEJpbmFyaWVzRXhpc3QoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbWFrZSBmb3IgJHt0aGlzLm5hbWV9LCB0aGUgZm9sbG93aW5nIGV4dGVybmFsIGJpbmFyaWVzIG5lZWQgdG8gYmUgaW5zdGFsbGVkOiAke3RoaXMucmVxdWlyZWRFeHRlcm5hbEJpbmFyaWVzLmpvaW4oJywgJyl9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gbW9kdWxlIGlzIGluc3RhbGxlZCwgdXNlZCBmb3IgdGVzdGluZyBpZiBvcHRpb25hbCBkZXBlbmRlbmNpZXNcbiAgICogYXJlIGluc3RhbGxlZCBvciBub3RcbiAgICovXG4gIGlzSW5zdGFsbGVkKG1vZHVsZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcXVpcmUobW9kdWxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFBhY2thZ2UgZG9lc24ndCBleGlzdCAtLSBtdXN0IG5vdCBiZSBpbnN0YWxsYWJsZSBvbiB0aGlzIHBsYXRmb3JtXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgZ2l2ZW4gc2VtdmVyLWZvcm1hdHRlZCB2ZXJzaW9uIHRvIGEgNC1wYXJ0IGRvdCBkZWxpbWl0ZWQgdmVyc2lvbiBudW1iZXIgd2l0aG91dFxuICAgKiBwcmVyZWxlYXNlIGluZm9ybWF0aW9uIGZvciB1c2UgaW4gV2luZG93cyBhcHBzLlxuICAgKi9cbiAgbm9ybWFsaXplV2luZG93c1ZlcnNpb24odmVyc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBub1ByZXJlbGVhc2UgPSB2ZXJzaW9uLnJlcGxhY2UoLy0uKi8sICcnKTtcbiAgICByZXR1cm4gYCR7bm9QcmVyZWxlYXNlfS4wYDtcbiAgfVxufVxuXG5leHBvcnQgeyBNYWtlciBhcyBNYWtlckJhc2UgfTtcbiJdLCJuYW1lcyI6WyJNYWtlciIsImNvbmZpZ09yQ29uZmlnRmV0Y2hlciIsInBsYXRmb3Jtc1RvTWFrZU9uIiwicmVxdWlyZWRFeHRlcm5hbEJpbmFyaWVzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJwbGF0Zm9ybXMiLCJkZWZhdWx0UGxhdGZvcm1zIiwicHJlcGFyZUNvbmZpZyIsInRhcmdldEFyY2giLCJjb25maWciLCJpc1N1cHBvcnRlZE9uQ3VycmVudFBsYXRmb3JtIiwicHJvdG90eXBlIiwiRXJyb3IiLCJuYW1lIiwibWFrZSIsIm9wdHMiLCJlbnN1cmVEaXJlY3RvcnkiLCJkaXIiLCJmcyIsInBhdGhFeGlzdHMiLCJyZW1vdmUiLCJta2RpcnMiLCJlbnN1cmVGaWxlIiwiZmlsZSIsInBhdGgiLCJkaXJuYW1lIiwiZXh0ZXJuYWxCaW5hcmllc0V4aXN0IiwiZXZlcnkiLCJiaW5hcnkiLCJ3aGljaCIsInN5bmMiLCJub3Rocm93IiwiZW5zdXJlRXh0ZXJuYWxCaW5hcmllc0V4aXN0Iiwiam9pbiIsImlzSW5zdGFsbGVkIiwibW9kdWxlIiwicmVxdWlyZSIsImUiLCJub3JtYWxpemVXaW5kb3dzVmVyc2lvbiIsInZlcnNpb24iLCJub1ByZXJlbGVhc2UiLCJyZXBsYWNlIiwiTWFrZXJCYXNlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFpQixHQUFNLENBQU4sS0FBTTtBQUdSLEdBQVUsQ0FBVixRQUFVO0FBQ1AsR0FBTyxDQUFQLE1BQU87Ozs7OztNQW9DS0EsS0FBSztJQVlqQyxFQUdHLEFBSEg7OztHQUdHLEFBSEgsRUFHRyxhQUNpQkMscUJBQW1ELEdBQUcsQ0FBQyxDQUFDLEVBQWlCQyxpQkFBbUMsQ0FBRSxDQUFDO2FBQS9HRCxxQkFBbUQsR0FBbkRBLHFCQUFtRDthQUFzQkMsaUJBQW1DLEdBQW5DQSxpQkFBbUM7UUFoQm5ILElBc0lkLENBL0hRQyx3QkFBd0IsR0FBYSxDQUFDLENBQUM7UUFVNUNDLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLElBQUksRUFBRSxDQUF3Qix5QkFBRSxDQUFDO1lBQ3JEQyxLQUFLLEVBQUUsSUFBSTtZQUNYQyxVQUFVLEVBQUUsS0FBSztZQUNqQkMsWUFBWSxFQUFFLEtBQUs7UUFDckIsQ0FBQztJQUNILENBQUM7UUFFR0MsU0FBUyxHQUFvQixDQUFDO1FBQ2hDLEVBQUUsRUFBRSxJQUFJLENBQUNQLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUNBLGlCQUFpQjtRQUN6RCxNQUFNLENBQUMsSUFBSSxDQUFDUSxnQkFBZ0I7SUFDOUIsQ0FBQztJQUVELEVBQTRFLEFBQTVFLDBFQUE0RTtJQUM1RSxFQUE4QyxBQUE5Qyw0Q0FBOEM7SUFDOUNDLGFBQWEsQ0FBQ0MsVUFBcUIsRUFBUSxDQUFDO1FBQzFDLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDWCxxQkFBcUIsS0FBSyxDQUFVLFdBQUUsQ0FBQztZQUNyRCxJQUFJLENBQUNZLE1BQU0sR0FBSSxJQUFJLENBQUNaLHFCQUFxQixDQUF1Q1csVUFBVTtRQUM1RixDQUFDLE1BQU0sQ0FBQztZ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